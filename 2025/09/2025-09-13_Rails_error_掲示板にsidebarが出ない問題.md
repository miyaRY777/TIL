
---

## 1. コードの流れ（なぜサイドバーが出ないのか？）

1. **ユーザー一覧のページ**にアクセスすると、`Admin::UsersController` が呼ばれる。

   * このクラスが **`ApplicationController`** を継承していた。
   * そのため、**通常レイアウト (`app/views/layouts/application.html.erb`)** が使われる。
   * 結果 → サイドバーが出ない。

2. **掲示板一覧のページ**にアクセスすると、`Admin::BoardsController` が呼ばれる。

   * このクラスは **`Admin::BaseController`** を継承していた。
   * そのため、**管理画面専用レイアウト (`app/views/layouts/admin/application.html.erb`)** が使われる。
   * 結果 → サイドバー付きで表示される。

👉 **原因は「継承元クラスの違い」**。

---

## 2. 必要性（なぜ `Admin::BaseController` を使うのか？）

管理画面には通常画面とは違う要件があります。

* **見た目の統一**
  管理画面用のサイドバー・ヘッダーをすべてのページで表示する必要がある。

* **アクセス制御**
  管理者以外が入れないようにするチェックが必要。

→ これを各コントローラに毎回書くのは非効率なので、
**`Admin::BaseController` に共通処理をまとめて、そこを継承する仕組み**にしています。

---

**ポイント**

* クラス名とファイル名の綴りは必ず一致させる
* `BaseController` のような「基盤クラス」を使うときは、まず継承元を確認

---

## ✅ まとめ

* **コードの流れ**：継承元クラスによってレイアウトが変わる → サイドバー表示の有無が決まる。
* **必要性**：管理画面の共通UIや認可チェックをまとめるために `Admin::BaseController` を使う。
* **アドバイス**：継承元とtypoを確認する習慣をつけると、同じようなエラーを早く解決できる。

---

