as： を消すと share_path は作られないのはなぜ？

## 結論

`as:` を消してもURLにはアクセスできる。  
しかし **share_path というURL生成メソッドは作られない。**

だからビューで `share_path` を使うとエラーになる。

---

## 理由

Railsは「REST形式（resources）」のときだけ、自動で名前付きルートを作る。

`resources :posts` のような書き方は、Railsが意味を理解できる。

だから：

- posts_path
- post_path
- new_post_path
- edit_post_path

を自動生成できる。

一方、

```ruby
get "/share/:token", to: "shares#show"
```

は「単発ルート」。

Railsは、

> どんな名前をつけるべきか分からない。

だから自動では `share_path` を作らない。

名前をつけたいなら、

```ruby
as: :share
```

と明示する必要がある。

---

## 具体例

### as: を書かない場合

```ruby
get "/share/:token", to: "shares#show"
```

URLにはアクセスできる。

```
/share/abc123
```

しかしビューで：

```erb
<%= link_to "共有", share_path(@link.token) %>
```

を書くと、

```
undefined method `share_path'
```

というエラーになる。

なぜなら `share_path` が存在しないから。

---

###  as: を書いた場合

```ruby
get "/share/:token", to: "shares#show", as: :share
```

Railsが自動で：

```
share_path
share_url
```

を作る。

だからビューで安全に使える。

---

## 結論

`as:` は「このルートに名前をつけてURL生成メソッドを作れ」という指示。

REST形式ならRailsが自動生成する。  
単発ルートなら自分で `as:` を書く必要がある。

つまり、

> URLが動くことと、URLを“安全に生成できること”は別問題。

